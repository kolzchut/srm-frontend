<div class='trigger' [class.visible]='triggerVisible'></div>
<!-- <div class='counts' *ngIf='hasCounts'>
    <div class='line' *ngIf='totalCount > 0'>
        <span class='strong' aria-live='polite'>{{totalVisibleCount.toLocaleString()}} תוצאות על המפה</span>
        <span *ngIf='totalCount - totalNationalCount - totalVisibleCount > 0'>מתוך {{totalCount.toLocaleString()}} <a (activated)='zoomout.emit(viewport)' clickOnReturn role="button" aria-label="הצגת כלל התוצאות הרלוונטיות לכל הארץ" tabindex="0">בכל הארץ</a></span>
        <span *ngIf='totalCount - totalNationalCount - totalVisibleCount === 0'>מתוך {{totalCount.toLocaleString()}} בכל הארץ</span>
    </div>
    <ng-container *ngIf='searchParams.hasFilters'>
        <span *ngIf='totalVisibleCount === 0 && totalCount === 0'>לא נמצאו תוצאות בכל הארץ, מומלץ  לשנות את הסינון או <a href="/q">לחפש מחדש</a></span>
    </ng-container>
    <ng-container *ngIf='!searchParams.hasFilters'>
        <span *ngIf='totalVisibleCount === 0 && totalCount === 0'>לא נמצאו תוצאות בכל הארץ, מומלץ <a href="/q">לשנות את החיפוש</a></span>
    </ng-container>
</div> -->

<div *ngIf='didYouMean' class='did-you-mean'>
    <span>האם התכוונת&nbsp;</span>
    <a [routerLink]='["/s", didYouMean.link]' [attr.aria-label]='"שינוי החיפוש לחיפוש מובנה של " + didYouMean.display'>
        {{didYouMean.display}}
    </a><span>?</span>
</div>

<ng-container *ngFor='let result of results; let i=index; trackBy:identify'>
    <ng-container *ngIf='!!result'>
        <app-result-stack [result]='result' [searchParams]='searchParams' [index]='i + 1' (hover)='hoverCard.next($event)'></app-result-stack>
    </ng-container>
    <div class='placeholder loading' *ngIf='!result'></div>
</ng-container>
<ng-container *ngIf='loading'>
    <ng-container *ngIf='!results.length'>
        <div class='placeholder loading'></div>
        <div class='placeholder loading'></div>
        <div class='placeholder loading'></div>
    </ng-container>
    <ng-container *ngIf='results.length'>
        <div class='placeholder loading'></div>
    </ng-container>
</ng-container>
<div class='trigger' [class.visible]='triggerVisible' #trigger role="presentation"></div>
