<div class='main' [class.searching]='searching'>
    <div class='header'>
        <div class='menu-button layout-mobile'>
            <app-menu-icon></app-menu-icon>
        </div>
        <div class='logo-tagline'>
            <div class='logo' alt='לוגו האתר ״כל שירות״'></div>
            <h1 class='tagline layout-mobile'>
                <span>כל השירותים החברתיים</span>
                <span>לכל מצב, בכל מקום</span>
            </h1>
        </div>
        <div class='header-search-bar layout-desktop' [class.visible]='!searchVisible'>
            <app-search-bar [config]='searchConfig' (focus)='startSearch("", true)' [homepage]='true'
                interactionEvent='homepage-searchbar' interactionEventWhere='homepage'        
            ></app-search-bar>
        </div>
        <app-desktop-menu-links [homepage]='true'></app-desktop-menu-links>
    </div>
    <div class='content' [class.searching]='searching'>
        <div class='hero'>
            <div class='intro hide-while-searching'>
                לחפש ולמצוא <strong>כל שירות</strong> חברתי<br/>
                מכל רשות, עמותה או ארגון<br class='layout-mobile'/>&nbsp;בהתאמה אישית לצרכיך&nbsp;<br/><br/>
            </div>
            <div class='search' role="main" #search>
                <h2 class='hide-while-searching'>ניתן לחפש:</h2>
                <div class='searchbox-container layout-desktop' [class.searching]='searching' appArrowToTab (keydown)='keydown($event)'>
                    <app-search-bar [config]='searchConfig' (focus)='$event ? updateFocus($event) : null' [homepage]='true'
                                    interactionEvent='homepage-searchbar' interactionEventWhere='homepage'        
                    ></app-search-bar>
                    <app-autocomplete-results [config]='searchConfig'></app-autocomplete-results>
                </div>
                <div class='searchbox-container layout-mobile'>
                    <app-search-bar [config]='searchConfig' (focus)='startSearch("", false)' [homepage]='true'
                                    interactionEvent='homepage-searchbar' interactionEventWhere='homepage'        
                    ></app-search-bar>
                </div>
            </div>
            <div class='homepage-groups hide-while-searching'>
                <h2 class='hide-while-searching'>או לבחור:</h2>
                @for (group of groups; track group.title) {
                    <div class='homepage-group' [class.hovered]='hovered === group.title'
                        (mouseover)='hovered = group.title' (mouseleave)='hovered = null'
                        (touchstart)='hovered = group.title' (touchend)='hovered = null'
                    >
                        <a [routerLink]='["/s", group.query]'
                            class='homepage-group-title'
                            interactionEvent='homepage-link-group' interactionEventWhere='homepage' [interactionEventContent]='group.title'
                            clickOnReturn>
                            <h3>
                                <span>{{group.title}}</span>
                                <span class='arrow-left'></span>
                            </h3>
                        </a>
                        <div class='homepage-group-items'>
                            @for (item of group.items; track item.query) {
                                <a class='homepage-group-item' [routerLink]='["/s", item.query]' 
                                    interactionEvent='homepage-link' interactionEventWhere='homepage' [interactionEventContent]='item.title'
                                    clickOnReturn>{{item.title}}</a>
                            }
                        </div>
                    </div>
                }
            </div>
            <div class='logos hide-while-searching'>
                <div class='logo-block'>
                    <a class='kolzchut' aria-label='מעבר לאתר של כל זכות בטאב חדש' href='https://www.kolzchut.org.il/he/%D7%A2%D7%9E%D7%95%D7%93_%D7%A8%D7%90%D7%A9%D7%99' target="_blank"></a>
                    <a class='moj' aria-label='מעבר לאתר של משרד המשפטים בטאב חדש' href='https://www.gov.il/he/departments/ministry_of_justice/govil-landing-page' target="_blank"></a>
                    <a class='digital-israel' aria-label='מעבר לאתר של מערך הדיגיטל הלאומי בטאב חדש' href='https://www.gov.il/he/departments/national-digital-agency/govil-landing-page' target="_blank"></a>    
                </div>
            </div>
        </div>
        <div class='backdrop layout-desktop' (focus)='updateFocus(false)' (click)='updateFocus(false)' tabindex="0">
            <div class='top'></div>
            <div class='bottom'>
                <div class='close'></div>
            </div>
        </div>    
        <app-disclaimer-footer *ngIf='!searching'></app-disclaimer-footer>
    </div>
    <div class='alternate-search layout-mobile' [class.visible]='!searchVisible' (activated)='startSearch("", false)' clickOnReturn aria-label='ביצוע חיפוש באתר'></div>
</div>
