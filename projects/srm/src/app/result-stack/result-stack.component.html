<div class='branch' [class.collapsible]='collapsible'>
    <div class='branch-headers'>
        <ng-container *ngIf='result.branch_city && !result.national_service'>
            <ng-container *ngIf='result.organization_short_name'>
                <span class='org' [innerHTML]="_h(result, 'organization_short_name') + '&nbsp;/&nbsp;'"></span>
            </ng-container>
            <ng-container *ngIf='!result.organization_short_name'>
                <span class='org' [innerHTML]="_h(result, 'organization_name') + '&nbsp;/&nbsp;'"></span>
            </ng-container>
            <span class='city'>{{result.branch_city}}</span>
        </ng-container>
        <ng-container *ngIf='!result.branch_city'>
            <span class='org' [innerHTML]="_h(result, 'organization_name') + '&nbsp;/&nbsp;'"></span>
            <ng-container *ngIf='!result.national_service'>
                <span class='city'>{{result.branch_name}}</span>
            </ng-container>
            <ng-container *ngIf='result.national_service'>
                <span class='national-service'>שירות ארצי</span>
            </ng-container>
        </ng-container>
        <span class='city' *ngIf='collapsibleCount > 1'>
            (+ {{result._collapse_count}} מיקומים נוספים)
        </span>            
        <span class='city' *ngIf='collapsibleCount === 1'>
            (+ מיקום נוסף)
        </span>
    </div>
    <div class='cards'>
        <app-result-card [card]='result' [small]='layout.mobile' [smallDesktop]='false' [searchParams]='searchParams'></app-result-card>
    </div>
</div>
<div class='bookends' *ngIf='collapsible'>
    <ng-container *ngFor='let _ of [].constructor(collapsibleCount)'>
        <div class='bookend'></div>
    </ng-container>
</div>
<div class='count' *ngIf='collapsible'>
    +{{result._collapse_count}}
</div>