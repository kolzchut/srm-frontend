<a (mouseover)='hover.next(result)'
   [attr.aria-label]='ariaLabel(result)'
   (activated)='selectedItem(result)'
   class='branch' [class.collapsible]='collapsible' clickOnReturn>
    <div class='branch-headers'>
        <span class='org' [innerHTML]='orgName(result)'></span>
        <span class='separator'>&nbsp;/&nbsp;</span>
        <span class='city' [class.national-service]='result.national_service' [innerHTML]='cityName(result)'></span>
    </div>
    <div class='cards'>
        <app-result-card [card]='result' [searchParams]='searchParams'></app-result-card>
    </div>
</a>
<!-- <pre>{{collapsible}} {{showCount}} {{result.collapse_hits?.slice(0, showCount)?.length}}</pre> -->
<div class='bookends' *ngIf='collapsible'>
    <ng-container *ngFor='let extra of result.collapse_hits?.slice(0, showCount) || []; let i = index;'>
        <a (mouseover)='hover.next(extra)' 
           [attr.aria-label]='ariaLabel(extra)'
           (activated)='selectedItem(result, extra)'
           class='bookend' [style.zIndex]='1000 - i' clickOnReturn>
            <span class='org' [innerHTML]='orgName(extra)'></span>
            <span class='separator'>&nbsp;/&nbsp;</span>
            <span class='city' [class.national]='extra.national_service'>{{cityName(extra)}}</span>
        </a>
    </ng-container>
    <a class='bookend more' *ngIf='moreAvailable > 0' (activated)='more()' role='button' aria-label='הצגת עוד 10 תוצאות דומות' clickOnReturn tabindex="0">+ {{moreAvailable}} שירותים דומים</a>
</div>
